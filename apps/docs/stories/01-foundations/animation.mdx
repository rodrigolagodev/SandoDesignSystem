import { Meta } from '@storybook/blocks';

<Meta title="Foundations/Animation" />

# Animation

Animation brings interfaces to life with purposeful motion. The Sando Design System provides **duration** and **easing** tokens built on **Ingredients tokens** (Layer 1).

## Animation Duration

Our duration scale provides consistent timing values for transitions and animations, from instant to slow.

<div style={{ marginTop: '32px' }}>
  {[
    { token: '0', value: '0ms', name: 'Instant', description: 'No transition' },
    { token: '100', value: '100ms', name: 'Very Fast', description: 'Micro-interactions' },
    { token: '200', value: '200ms', name: 'Fast', description: 'Hover states, tooltips' },
    { token: '300', value: '300ms', name: 'Default', description: 'Most UI transitions' },
    { token: '500', value: '500ms', name: 'Medium', description: 'Modal entrances, slides' },
    { token: '700', value: '700ms', name: 'Slow', description: 'Complex animations' },
    { token: '1000', value: '1000ms', name: 'Very Slow', description: 'Attention-grabbing' },
  ].map(({ token, value, name, description }) => (
    <div
      key={token}
      style={{
        display: 'flex',
        alignItems: 'center',
        gap: '24px',
        padding: '16px',
        borderBottom: '1px solid var(--sando-color-border-muted)',
      }}
    >
      <div
        style={{
          fontFamily: 'monospace',
          fontSize: '12px',
          color: 'var(--sando-color-text-caption)',
          minWidth: '100px',
        }}
      >
        duration-{token}
      </div>
      <div
        style={{
          position: 'relative',
          width: '200px',
          height: '40px',
          backgroundColor: 'var(--sando-color-background-surface)',
          borderRadius: '8px',
          overflow: 'hidden',
        }}
      >
        <div
          style={{
            position: 'absolute',
            top: 0,
            left: 0,
            width: '40px',
            height: '40px',
            backgroundColor: 'var(--sando-color-brand-500)',
            borderRadius: '8px',
            animation: `slide-${token} var(--sando-animation-duration-${token}) ease-in-out infinite alternate`,
          }}
        />
        <style>{`
          @keyframes slide-${token} {
            from { transform: translateX(0); }
            to { transform: translateX(160px); }
          }
        `}</style>
      </div>
      <div style={{ flex: 1 }}>
        <div style={{ fontSize: '14px', fontWeight: '600', marginBottom: '4px' }}>
          {name} ({value})
        </div>
        <div style={{ fontSize: '12px', color: 'var(--sando-color-text-muted)' }}>
          {description}
        </div>
      </div>
    </div>
  ))}
</div>

---

## Easing Functions

Easing functions control the acceleration curve of animations, making motion feel natural and purposeful.

<div style={{ marginTop: '32px' }}>
  {[
    { token: 'linear', value: 'linear', name: 'Linear', description: 'Constant speed, mechanical' },
    { token: 'ease-in', value: 'cubic-bezier(0.4, 0, 1, 1)', name: 'Ease In', description: 'Slow start, fast end' },
    { token: 'ease-out', value: 'cubic-bezier(0, 0, 0.2, 1)', name: 'Ease Out', description: 'Fast start, slow end (most common)' },
    { token: 'ease-in-out', value: 'cubic-bezier(0.4, 0, 0.2, 1)', name: 'Ease In-Out', description: 'Smooth both ends' },
    { token: 'bounce', value: 'cubic-bezier(0.68, -0.55, 0.265, 1.55)', name: 'Bounce', description: 'Playful overshoot' },
  ].map(({ token, value, name, description }) => (
    <div
      key={token}
      style={{
        display: 'flex',
        alignItems: 'center',
        gap: '24px',
        padding: '16px',
        borderBottom: '1px solid var(--sando-color-border-muted)',
      }}
    >
      <div
        style={{
          fontFamily: 'monospace',
          fontSize: '12px',
          color: 'var(--sando-color-text-caption)',
          minWidth: '120px',
        }}
      >
        easing-{token}
      </div>
      <div
        style={{
          position: 'relative',
          width: '200px',
          height: '40px',
          backgroundColor: 'var(--sando-color-background-surface)',
          borderRadius: '8px',
          overflow: 'hidden',
        }}
      >
        <div
          style={{
            position: 'absolute',
            top: 0,
            left: 0,
            width: '40px',
            height: '40px',
            backgroundColor: 'var(--sando-color-brand-500)',
            borderRadius: '8px',
            animation: `slide-easing-${token} 1000ms var(--sando-animation-easing-${token}) infinite alternate`,
          }}
        />
        <style>{`
          @keyframes slide-easing-${token} {
            from { transform: translateX(0); }
            to { transform: translateX(160px); }
          }
        `}</style>
      </div>
      <div style={{ flex: 1 }}>
        <div style={{ fontSize: '14px', fontWeight: '600', marginBottom: '4px' }}>
          {name}
        </div>
        <div style={{ fontSize: '12px', color: 'var(--sando-color-text-muted)', marginBottom: '4px' }}>
          {description}
        </div>
        <div style={{ fontFamily: 'monospace', fontSize: '10px', color: 'var(--sando-color-text-caption)' }}>
          {value}
        </div>
      </div>
    </div>
  ))}
</div>

---

## Interactive Examples

### Hover Transitions

<div style={{ marginTop: '32px', display: 'flex', gap: '24px', flexWrap: 'wrap' }}>
  {[
    { duration: '100', label: 'Very Fast (100ms)' },
    { duration: '200', label: 'Fast (200ms)' },
    { duration: '300', label: 'Default (300ms)' },
    { duration: '500', label: 'Medium (500ms)' },
  ].map(({ duration, label }) => (
    <div key={duration} style={{ flex: '1 1 200px', textAlign: 'center' }}>
      <div
        style={{
          width: '100%',
          padding: '32px',
          backgroundColor: 'var(--sando-color-brand-500)',
          color: 'white',
          borderRadius: '12px',
          fontSize: '14px',
          fontWeight: '600',
          cursor: 'pointer',
          transition: `all var(--sando-animation-duration-${duration}) var(--sando-animation-easing-ease-out)`,
        }}
        onMouseEnter={(e) => {
          e.currentTarget.style.transform = 'translateY(-8px)';
          e.currentTarget.style.boxShadow = 'var(--sando-elevation-400)';
        }}
        onMouseLeave={(e) => {
          e.currentTarget.style.transform = 'translateY(0)';
          e.currentTarget.style.boxShadow = 'none';
        }}
      >
        Hover me
      </div>
      <div style={{ marginTop: '12px', fontSize: '12px', color: 'var(--sando-color-text-muted)' }}>
        {label}
      </div>
    </div>
  ))}
</div>

### Easing Comparison

<div style={{ marginTop: '32px', display: 'flex', gap: '24px', flexWrap: 'wrap' }}>
  {[
    { easing: 'linear', label: 'Linear' },
    { easing: 'ease-in', label: 'Ease In' },
    { easing: 'ease-out', label: 'Ease Out' },
    { easing: 'bounce', label: 'Bounce' },
  ].map(({ easing, label }) => (
    <div key={easing} style={{ flex: '1 1 200px', textAlign: 'center' }}>
      <div
        style={{
          width: '100%',
          padding: '32px',
          backgroundColor: 'var(--sando-color-brand-500)',
          color: 'white',
          borderRadius: '12px',
          fontSize: '14px',
          fontWeight: '600',
          cursor: 'pointer',
          transition: `transform 500ms var(--sando-animation-easing-${easing})`,
        }}
        onMouseEnter={(e) => {
          e.currentTarget.style.transform = 'scale(1.1)';
        }}
        onMouseLeave={(e) => {
          e.currentTarget.style.transform = 'scale(1)';
        }}
      >
        Hover me
      </div>
      <div style={{ marginTop: '12px', fontSize: '12px', color: 'var(--sando-color-text-muted)' }}>
        {label}
      </div>
    </div>
  ))}
</div>

---

## Usage Guidelines

### Duration Best Practices

**When to Use:**
- **0ms**: Disable animations (accessibility)
- **100ms**: Micro-interactions (button press, checkbox toggle)
- **200ms**: Hover states, tooltips, dropdowns
- **300ms**: Default for most transitions
- **500ms**: Modal entrances, drawer slides
- **700ms**: Complex multi-step animations
- **1000ms**: Attention-grabbing, onboarding animations

### Easing Best Practices

**When to Use:**
- **linear**: Progress bars, loading spinners
- **ease-in**: Elements leaving the screen
- **ease-out**: Elements entering the screen (most common)
- **ease-in-out**: Elements moving across screen
- **bounce**: Playful interactions, success confirmations

### Do's

- ✅ Use ease-out for most UI transitions (feels responsive)
- ✅ Keep animations under 500ms for UI interactions
- ✅ Use consistent durations for similar interactions
- ✅ Respect `prefers-reduced-motion` media query

### Don'ts

- ❌ Don't use slow animations for frequent interactions
- ❌ Don't use bounce easing for professional interfaces
- ❌ Don't animate too many properties at once
- ❌ Don't ignore accessibility preferences

---

## Accessibility

### Reduced Motion

Always respect user preferences for reduced motion:

```css
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
```

### Best Practices

- Avoid animations that flash more than 3 times per second
- Provide a way to pause or stop animations
- Don't rely solely on animation to convey information
- Test with screen readers to ensure animations don't interfere

---

## Performance Tips

- Animate `transform` and `opacity` for best performance (GPU accelerated)
- Avoid animating `width`, `height`, `top`, `left` (triggers layout)
- Use `will-change` sparingly for complex animations
- Consider battery life on mobile devices

---

## Related

- **Flavors Layer** - Semantic animation tokens
- **Components** - Animation in context
- **Accessibility** - Motion sensitivity guidelines
