import { Meta } from '@storybook/blocks';

<Meta title="Recipes/Overview" />

# Recipes (Component Tokens)

**Recipes** are Sando's component-specific token layer‚Äîthe final layer in our three-layer architecture. They ensure every component "tastes just right" by providing tailored tokens that reference **Flavors** (semantic tokens).

## What Are Recipes?

Think of Recipes like the final assembly instructions for a sandwich. You have your **Ingredients** (primitives) and **Flavors** (semantic tokens), and now Recipes combine them into perfect, ready-to-use component configurations.

```
ü•ì Ingredients (Primitives)
   ‚Üì referenced by
ü•¨ Flavors (Semantic)
   ‚Üì referenced by
üçû Recipes (Component-specific) ‚Üê YOU ARE HERE
   ‚Üì used by
üé® Components
```

## Why Component Tokens?

Recipe tokens solve specific problems:

1. **Component Isolation** - Each component gets its own token namespace
2. **Easy Customization** - Override component-specific tokens without affecting others
3. **Consistent Patterns** - All components follow the same token structure
4. **Theme Inheritance** - Recipes automatically inherit Flavor changes

### Example: Button Without Recipes (‚ùå Bad)

```css
/* Component directly using Flavor tokens - tight coupling */
.button--solid {
  background: var(--sando-color-action-solid-background-default);
  color: var(--sando-color-action-solid-text-default);
}

.button--solid:hover {
  background: var(--sando-color-action-solid-background-hover);
}
```

**Problem**: Can't customize button colors without affecting all solid actions.

### Example: Button With Recipes (‚úÖ Good)

```css
/* Recipe layer provides component-specific tokens */
:root {
  --sando-button-solid-backgroundColor-default: var(--sando-color-action-solid-background-default);
  --sando-button-solid-backgroundColor-hover: var(--sando-color-action-solid-background-hover);
  --sando-button-solid-textColor-default: var(--sando-color-action-solid-text-default);
}

/* Component uses its own Recipe tokens */
.button--solid {
  background: var(--sando-button-solid-backgroundColor-default);
  color: var(--sando-button-solid-textColor-default);
}

.button--solid:hover {
  background: var(--sando-button-solid-backgroundColor-hover);
}
```

**Benefits**:
- Easy to customize just buttons
- Inherits Flavor changes automatically
- Clear component-specific namespace

## Available Recipes

Sando provides Recipe tokens for all components:

| Component | Recipe Namespace | Documentation |
|-----------|------------------|---------------|
| **Button** | `--sando-button-*` | [Button Tokens](/?path=/docs/recipes-button-tokens--docs) |
| **Input** | `--sando-input-*` | [Input Tokens](/?path=/docs/recipes-input-tokens--docs) |
| **Icon** | `--sando-icon-*` | [Icon Tokens](/?path=/docs/recipes-icon-tokens--docs) |

## Recipe Token Structure

All Recipe tokens follow a consistent naming pattern:

```
--sando-[component]-[variant]-[property]-[state]
```

**Examples**:
- `--sando-button-solid-backgroundColor-default`
- `--sando-button-outline-borderColor-hover`
- `--sando-input-outline-borderColor-focus`
- `--sando-icon-default-fill`

### Anatomy Breakdown

1. **`sando`** - Namespace prefix (prevents conflicts)
2. **`component`** - Component name (button, input, icon)
3. **`variant`** - Visual variant (solid, outline, ghost)
4. **`property`** - CSS property (backgroundColor, textColor, borderColor)
5. **`state`** - Interaction state (default, hover, active, disabled, focus)

## Token Flow Example

Here's how a button's hover background flows through all three layers:

```
ü•ì INGREDIENT
--sando-color-orange-800: oklch(63.45% 0.178 42.39)
             ‚Üì
ü•¨ FLAVOR
--sando-color-action-solid-background-hover: var(--sando-color-orange-800)
             ‚Üì
üçû RECIPE
--sando-button-solid-backgroundColor-hover: var(--sando-color-action-solid-background-hover)
             ‚Üì
üé® COMPONENT
button:hover { background: var(--sando-button-solid-backgroundColor-hover); }
```

**Why this is powerful**:
1. Change Ingredient ‚Üí affects all orange UI
2. Change Flavor ‚Üí rethemes all solid actions
3. Change Recipe ‚Üí customizes only buttons
4. Component code stays clean and simple

## Customizing Recipes

You can override Recipe tokens to customize components:

### Example: Custom Button Colors

```css
/* Override button recipes for a "danger" variant */
.button--danger {
  --sando-button-solid-backgroundColor-default: var(--sando-color-state-error-500);
  --sando-button-solid-backgroundColor-hover: var(--sando-color-state-error-600);
  --sando-button-solid-textColor-default: var(--sando-color-utility-white);
}
```

### Example: Custom Input Styles Per Flavor

```css
/* Ocean flavor has different input styling */
[flavor="ocean"] {
  --sando-input-outline-borderColor-default: var(--sando-color-blue-400);
  --sando-input-outline-borderColor-focus: var(--sando-color-blue-600);
}
```

### Example: Component-Specific Theming

```css
/* "compact" theme uses tighter button padding */
[flavor="compact"] {
  --sando-button-paddingInline: var(--sando-space-3);
  --sando-button-paddingBlock: var(--sando-space-2);
  --sando-button-fontSize: var(--sando-font-size-300);
}
```

## Recipe Token Categories

Recipes organize tokens by CSS property type:

### Color Tokens
- `backgroundColor`
- `textColor`
- `borderColor`
- `fill` (for icons)
- `stroke` (for icons)

### Spacing Tokens
- `paddingInline` (horizontal padding)
- `paddingBlock` (vertical padding)
- `gap` (internal spacing)
- `marginInline` (horizontal margin)
- `marginBlock` (vertical margin)

### Sizing Tokens
- `minWidth`
- `minHeight`
- `fontSize`
- `iconSize`

### Border Tokens
- `borderWidth`
- `borderRadius`

## Best Practices

### ‚úÖ DO Use Recipes For

- Component styling in Shadow DOM
- Creating component variants (danger, success, etc.)
- Per-flavor component customization
- Maintaining component consistency

### ‚ùå DON'T Use Recipes For

- Layout spacing (use Flavor spacing roles instead)
- Typography in content (use Flavor typography roles instead)
- One-off inline styles (use utility classes or inline styles)

### Token Layer Decision Tree

```
Building a component?
‚îú‚îÄ YES ‚Üí Use Recipe tokens
‚îÇ   Example: var(--sando-button-solid-backgroundColor-default)
‚îÇ
‚îî‚îÄ NO ‚Üí Styling layout or content?
    ‚îú‚îÄ Layout/Content ‚Üí Use Flavor tokens
    ‚îÇ   Example: var(--sando-color-background-base)
    ‚îÇ
    ‚îî‚îÄ Creating new Flavor ‚Üí Use Ingredient tokens
        Example: var(--sando-color-orange-700)
```

## Recipe Inheritance

Recipes automatically inherit from Flavors, which inherit from Ingredients:

```css
/* Default (Original) flavor */
:root {
  /* Ingredients */
  --sando-color-orange-700: oklch(67.88% 0.166 42.39);

  /* Flavors */
  --sando-color-action-solid-background-default: var(--sando-color-orange-700);

  /* Recipes */
  --sando-button-solid-backgroundColor-default: var(--sando-color-action-solid-background-default);
}

/* Ocean flavor */
[flavor="ocean"] {
  /* Override Flavor (Recipe automatically inherits) */
  --sando-color-action-solid-background-default: var(--sando-color-blue-600);

  /* No need to override Recipe - it automatically uses new Flavor value! */
}
```

**Result**: Change Flavor once, all Recipe tokens update automatically.

## Creating New Recipes

When creating a new component, define its Recipe tokens:

```json
{
  "card": {
    "default": {
      "backgroundColor": {
        "value": "{color.background.surface.value}",
        "type": "color"
      },
      "borderColor": {
        "value": "{color.border.default.value}",
        "type": "color"
      },
      "borderWidth": {
        "value": "{border.width.thin.value}",
        "type": "borderWidth"
      },
      "borderRadius": {
        "value": "{border.radius.md.value}",
        "type": "borderRadius"
      },
      "padding": {
        "value": "{spacing.component.padding.value}",
        "type": "spacing"
      },
      "elevation": {
        "value": "{elevation.sm.value}",
        "type": "boxShadow"
      }
    }
  }
}
```

This generates:
```css
--sando-card-default-backgroundColor: var(--sando-color-background-surface);
--sando-card-default-borderColor: var(--sando-color-border-default);
--sando-card-default-borderWidth: var(--sando-border-width-thin);
--sando-card-default-borderRadius: var(--sando-border-radius-md);
--sando-card-default-padding: var(--sando-spacing-component-padding);
--sando-card-default-elevation: var(--sando-elevation-sm);
```

## Debugging Recipes

Use browser DevTools to trace token values:

```css
/* In browser DevTools computed styles: */
background-color: var(--sando-button-solid-backgroundColor-default)
  = var(--sando-color-action-solid-background-default)
  = var(--sando-color-orange-700)
  = oklch(67.88% 0.166 42.39)
  = rgb(247, 115, 33)
```

This shows the complete token flow from Recipe ‚Üí Flavor ‚Üí Ingredient ‚Üí Computed value.

## Related Pages

- [Recipes/Button Tokens](/?path=/docs/recipes-button-tokens--docs) - Button component tokens
- [Recipes/Input Tokens](/?path=/docs/recipes-input-tokens--docs) - Input component tokens
- [Recipes/Icon Tokens](/?path=/docs/recipes-icon-tokens--docs) - Icon component tokens
- [Flavors/Overview](/?path=/docs/flavors-overview--docs) - Semantic token layer
- [Getting Started/Best Practices](/?path=/docs/getting-started-best-practices--docs) - Token usage guide

---

**Recipes make components taste just right! Master them for perfect component theming. üçû**
